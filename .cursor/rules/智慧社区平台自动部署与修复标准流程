# 智慧社区平台自动部署与修复标准流程

## 系统架构与部署流程理解

根据对`.github/workflows`目录下工作流文件的分析，本系统采用GitHub Actions进行自动化部署，主要包含两个工作流：

1. **CI/CD工作流（ci-cd.yml）**
   - 触发条件：main分支推送或PR
   - 主要任务：代码检查、测试、构建

2. **生产部署工作流（deploy.yml）**
   - 触发条件：main分支推送或手动触发
   - 核心步骤：
     - 代码构建
     - 通过SSH密钥连接服务器
     - 使用rsync将代码同步到服务器
     - 远程执行重启服务命令

## 标准修复流程

### 1. 问题分析与本地验证
- 明确问题范围与影响
- 在本地环境复现并验证问题
- 开发并测试修复方案

### 2. 代码提交与部署
- 将修复代码提交到GitHub main分支
- GitHub Actions自动触发部署工作流
- 通过SSH密钥安全地将更改部署到服务器

### 3. 部署后验证
- 检查服务是否正常重启
- 验证修复是否解决了问题
- 监控系统日志确认无新问题



4. GitHub Actions将自动执行以下步骤：
   - 构建项目
   - 通过SSH密钥连接到服务器
   - 使用rsync同步代码
   - 重启服务

通过遵循此标准流程，我们可以确保所有修复都通过安全的SSH密钥方式自动部署到服务器，而不需要每次手动修改服务器内容。